<html>
<head>
<title>EventoAdapter.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(204,120,50); }
.s1 { color: rgb(169,183,198); }
.s2 { color: rgb(98,151,85); font-style: italic; }
.s3 { color: rgb(104,151,187); }
.s4 { color: rgb(106,135,89); }
.s5 { color: rgb(128,128,128); }
</style>
</head>
<BODY BGCOLOR="#2b2b2b">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
EventoAdapter.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">package </span><span class="s1">com.meucampus.arthur.testez</span><span class="s0">;</span><span class="s1">
 
</span><span class="s0">import </span><span class="s1">android.content.Context</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.graphics.Bitmap</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.graphics.BitmapFactory</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.os.AsyncTask</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.util.Log</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.view.View</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.view.ViewGroup</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.webkit.WebView</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.widget.BaseAdapter</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.widget.ImageView</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.widget.TextView</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android.widget.Toast</span><span class="s0">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">java.net.HttpURLConnection</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java.net.URL</span><span class="s0">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java.util.List</span><span class="s0">;</span><span class="s1"> 
 
</span><span class="s2">/** 
 * Created by ARTHUR on 15/09/2016. 
 */</span><span class="s1"> 
</span><span class="s0">public class </span><span class="s1">EventoAdapter </span><span class="s0">extends </span><span class="s1">BaseAdapter { 
    </span><span class="s0">private </span><span class="s1">Context mContext</span><span class="s0">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">List&lt;Evento&gt; mList</span><span class="s0">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ImageView image</span><span class="s0">;</span><span class="s1"> 
    </span><span class="s0">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s0">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">View v</span><span class="s0">;</span><span class="s1"> 
    </span><span class="s0">public </span><span class="s1">EventoAdapter(Context mContext</span><span class="s0">, </span><span class="s1">List&lt;Evento&gt; mList) { 
        </span><span class="s0">this</span><span class="s1">.mContext = mContext</span><span class="s0">;</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s1">.mList = mList</span><span class="s0">;</span><span class="s1"> 
    } 
    </span><span class="s0">private </span><span class="s1">Bitmap bitmap23</span><span class="s0">;</span><span class="s1"> 
 
    @Override 
    </span><span class="s0">public int </span><span class="s1">getCount() { 
        </span><span class="s0">return </span><span class="s1">mList.size()</span><span class="s0">;</span><span class="s1"> 
    } 
 
    @Override 
    </span><span class="s0">public </span><span class="s1">Object getItem(</span><span class="s0">int </span><span class="s1">i) { 
        </span><span class="s0">return </span><span class="s1">mList.get(i)</span><span class="s0">;</span><span class="s1"> 
    } 
 
    @Override 
    </span><span class="s0">public long </span><span class="s1">getItemId(</span><span class="s0">int </span><span class="s1">i) { 
        </span><span class="s0">return </span><span class="s1">i</span><span class="s0">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">public </span><span class="s1">TextView data1</span><span class="s0">;</span><span class="s1"> 
    </span><span class="s0">public </span><span class="s1">TextView dataMes</span><span class="s0">;</span><span class="s1"> 
    TextView periodo</span><span class="s0">;</span><span class="s1"> 
    @Override 
    </span><span class="s0">public </span><span class="s1">View getView(</span><span class="s0">int </span><span class="s1">i</span><span class="s0">, </span><span class="s1">View view</span><span class="s0">, </span><span class="s1">ViewGroup viewGroup) { 
 
        v = View.inflate(mContext</span><span class="s0">, </span><span class="s1">R.layout.list_evento_layout</span><span class="s0">, null</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
        TextView tit = (TextView) v.findViewById(R.id.txtTituloN)</span><span class="s0">;</span><span class="s1"> 
 
        data1 = (TextView) v.findViewById(R.id.TxtDataImg3)</span><span class="s0">;</span><span class="s1"> 
        dataMes = (TextView) v.findViewById(R.id.TxtDataImg4)</span><span class="s0">;</span><span class="s1"> 
        data1.setText(</span><span class="s4">&quot;    &quot; </span><span class="s1">+mList.get(i).getDataInicio().substring(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s1">))</span><span class="s0">;</span><span class="s1"> 
        dataMes.setText(</span><span class="s4">&quot;    &quot;</span><span class="s1">+getMes(mList.get(i).getDataInicio()))</span><span class="s0">;</span><span class="s1"> 
 
        TextView datI = (TextView) v.findViewById(R.id.TxtData)</span><span class="s0">;</span><span class="s1"> 
        </span><span class="s0">try</span><span class="s1">{ 
            TextView a  = (TextView) v.findViewById(R.id.TxtLocal)</span><span class="s0">;</span><span class="s1"> 
            </span><span class="s5">//a.setText(mList.get(i).getLocal()+&quot;&quot;);</span><span class="s1"> 
            a.setText(</span><span class="s4">&quot;&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
        }</span><span class="s0">catch</span><span class="s1">(Exception e){ 
 
        } 
 
 
        Log.e(</span><span class="s4">&quot;DatI&quot;</span><span class="s0">, </span><span class="s1">mList.get(i).getDataPublicacao())</span><span class="s0">;</span><span class="s1"> 
        datI.setText(mList.get(i).getDataPublicacao())</span><span class="s0">;</span><span class="s1"> 
        tit.setText(mList.get(i).getTitulo())</span><span class="s0">;</span><span class="s1"> 
        image = (ImageView) v.findViewById(R.id.imageEvento1)</span><span class="s0">;</span><span class="s1"> 
 
 
        </span><span class="s0">try </span><span class="s1">{ 
            </span><span class="s0">boolean </span><span class="s1">imageNull = mList.get(i).getImageLink().equals(</span><span class="s4">&quot;&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
            </span><span class="s0">if </span><span class="s1">(imageNull == </span><span class="s0">false </span><span class="s1">&amp;&amp; !mList.get(i).getImageLink().equals(</span><span class="s4">&quot;&quot;</span><span class="s1">)) { 
 
                </span><span class="s5">//new DownloadImageTask().execute(mList.get(i).getImageLink());</span><span class="s1"> 
 
                image.setVisibility(View.INVISIBLE)</span><span class="s0">;</span><span class="s1"> 
                data1.setVisibility(View.VISIBLE)</span><span class="s0">;</span><span class="s1"> 
                dataMes.setVisibility(View.VISIBLE)</span><span class="s0">;</span><span class="s1"> 
 
            } </span><span class="s0">else </span><span class="s1">{ 
                image.setVisibility(View.INVISIBLE)</span><span class="s0">;</span><span class="s1"> 
                data1.setVisibility(View.VISIBLE)</span><span class="s0">;</span><span class="s1"> 
                dataMes.setVisibility(View.VISIBLE)</span><span class="s0">;</span><span class="s1"> 
            } 
        }</span><span class="s0">catch </span><span class="s1">(Exception ex ){ 
            Log.e(</span><span class="s4">&quot;ERRO&quot;</span><span class="s0">, </span><span class="s1">ex.getMessage())</span><span class="s0">;</span><span class="s1"> 
            image.setVisibility(View.INVISIBLE)</span><span class="s0">;</span><span class="s1"> 
            data1.setVisibility(View.VISIBLE)</span><span class="s0">;</span><span class="s1"> 
            dataMes.setVisibility(View.VISIBLE)</span><span class="s0">;</span><span class="s1"> 
            </span><span class="s5">//image.setVisibility(View.INVISIBLE);</span><span class="s1"> 
 
        } 
        datI.setText(mList.get(i).getDataInicio())</span><span class="s0">;</span><span class="s1"> 
 
        </span><span class="s0">return </span><span class="s1">v</span><span class="s0">;</span><span class="s1"> 
 
 
    } 
    </span><span class="s0">public </span><span class="s1">String getMes(String data){ 
        String mes = data.substring(</span><span class="s3">3</span><span class="s0">,</span><span class="s3">5</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
        </span><span class="s0">int </span><span class="s1">mes1 = Integer.parseInt(mes)</span><span class="s0">;</span><span class="s1"> 
        Log.e(</span><span class="s4">&quot;mes1&quot;</span><span class="s0">, </span><span class="s1">mes1+</span><span class="s4">&quot;&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
        </span><span class="s0">switch </span><span class="s1">(mes1){ 
            </span><span class="s0">case </span><span class="s3">1</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Jan&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">2</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Fev&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">3</span><span class="s1">: 
                </span><span class="s0">return  </span><span class="s4">&quot;Mar&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">4</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Abr&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">5</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Mai&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">6</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Jun&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">7</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Jul&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">8</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Ago&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">9</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Set&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">10</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Out&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">11</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Nov&quot;</span><span class="s0">;</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s3">12</span><span class="s1">: 
                </span><span class="s0">return </span><span class="s4">&quot;Dez&quot;</span><span class="s0">;</span><span class="s1"> 
 
 
        } 
        </span><span class="s0">return null;</span><span class="s1"> 
    } 
    </span><span class="s0">private class </span><span class="s1">DownloadImageTask </span><span class="s0">extends </span><span class="s1">AsyncTask&lt;String </span><span class="s0">, </span><span class="s1">Void</span><span class="s0">, </span><span class="s1">Bitmap&gt;{ 
        @Override 
        </span><span class="s0">protected </span><span class="s1">Bitmap doInBackground(String... url) { 
            Log.e(</span><span class="s4">&quot;BACKGROUND&quot;</span><span class="s0">, </span><span class="s4">&quot;entrei&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
           </span><span class="s0">try</span><span class="s1">{ 
                HttpURLConnection get = (HttpURLConnection) </span><span class="s0">new </span><span class="s1">URL(url[</span><span class="s3">0</span><span class="s1">]).openConnection()</span><span class="s0">;</span><span class="s1"> 
                get.setRequestMethod(</span><span class="s4">&quot;GET&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
 
                get.connect()</span><span class="s0">;</span><span class="s1"> 
 
                </span><span class="s5">// decoding stream data back into image Bitmap that android understands</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">Bitmap bitmap = BitmapFactory.decodeStream(get.getInputStream())</span><span class="s0">;</span><span class="s1"> 
 
                get.disconnect()</span><span class="s0">;</span><span class="s1"> 
 
                </span><span class="s0">return </span><span class="s1">bitmap</span><span class="s0">;</span><span class="s1"> 
            } </span><span class="s0">catch </span><span class="s1">(Exception e) { 
                e.printStackTrace()</span><span class="s0">;</span><span class="s1"> 
</span><span class="s5">//               Toast.makeText(mContext, &quot;Erro de imagem&quot;, Toast.LENGTH_SHORT).show();</span><span class="s1"> 
 
 
                Log.e(</span><span class="s4">&quot;BITMAP&quot;</span><span class="s0">,</span><span class="s4">&quot;Erro de imagem&quot;</span><span class="s0">,</span><span class="s1">e)</span><span class="s0">;</span><span class="s1"> 
            } 
            Log.e(</span><span class="s4">&quot;BACKGROUND&quot;</span><span class="s0">, </span><span class="s4">&quot;Retornei null&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
            </span><span class="s0">return null;</span><span class="s1"> 
        } 
 
        @Override 
        </span><span class="s0">protected void </span><span class="s1">onPostExecute(Bitmap bitmap) { 
            </span><span class="s0">try</span><span class="s1">{ 
                image = (ImageView) v.findViewById(R.id.imageEvento1)</span><span class="s0">;</span><span class="s1"> 
                image.setImageBitmap(bitmap)</span><span class="s0">;</span><span class="s1"> 
                </span><span class="s5">//notifyDataSetChanged();</span><span class="s1"> 
                Log.e(</span><span class="s4">&quot;ONPOSTEXECUTE&quot;</span><span class="s0">, </span><span class="s4">&quot;alterei no bitmap&quot;</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
                </span><span class="s5">//image.setImageBitmap(bitmap);</span><span class="s1"> 
            }</span><span class="s0">catch </span><span class="s1">(Exception e){ 
                Log.e(</span><span class="s4">&quot;ERRO&quot;</span><span class="s0">, </span><span class="s1">e.getMessage())</span><span class="s0">;</span><span class="s1"> 
                </span><span class="s5">//Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();</span><span class="s1"> 
            } 
 
        } 
    } 
} 
 
 
 
 
</span></pre>
</body>
</html>